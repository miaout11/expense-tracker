<section class="container mt-5" style="width: 40%;">
  {{!-- select category --}}
  <div class="col-8 mx-auto">
    <form action="/">
      <select class="category-dropdown col-12" name="categorySelector" onchange="this.form.submit()">
        <option value="0">全部類別</option>
        {{#each categories}}
        <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.name}}</option>
        {{/each}}
      </select>
    </form>
  </div>

  {{!-- datapanel --}}
  {{!-- total amount --}}
  <div class="mt-3 d-flex justify-content-around my-2">
    <p style=" font-size: 20px; width: 80px;">總金額：</p>
    <p style="font-size: 80px; font-weight:bold; color: orange;">{{totalAmount}}</p>
  </div>
  {{!-- all expense data--}}
  <ul class="list-group">
    {{#each expenses}}
    <li class="list-group-item d-flex p-0 border-0">
      <div class="col-8 d-flex align-items-center py-2 rounded">
        <i class="{{getIcon this.categoryId}} fa-xl text-danger"></i>
        <div class="d-inline px-1 col-8">
          <h5>{{this.name}}</h5>
          <small class="date">{{this.date}}</small>
        </div>
        <div class="item-amount d-inline col-2">
          <h5>{{this.amount}}</h5>
        </div>
        {{!-- edit and delete button--}}
        <div class="edit-del d-inline px-1 col-6 text-end">
          <a class="btn btn-success" href="/records/{{this._id}}/edit">修改</a>
          <form action="/records/{{this._id}}?_method=DELETE" style="display: inline" method="POST">
            <button class="btn btn-md btn-dark" style="display: inline" type="submit">刪除</button>
          </form>
        </div>
      </div>
    </li>
    {{/each}}
  </ul>

  {{!-- create button --}}
  <div class="d-flex justify-content-center mt-5">
    <a href="/records/new"><button class="btn btn-secondary mb-3">新增支出</button></a>
  </div>
</section>